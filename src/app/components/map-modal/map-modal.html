<div
  class="max-w-2xl mx-auto bg-linear-to-br from-[#C3E883] to-[#A8D35F] rounded-3xl shadow-[0_20px_50px_rgba(8,112,184,0.7)] p-10 border-4 border-white/50 backdrop-blur-sm">

  <!-- Main heading with icon -->
  <div class="text-center mb-8">
    <div class="inline-block p-4 bg-white/90 rounded-full shadow-lg mb-4">
      <svg class="w-12 h-12 text-[#059669]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
    </div>
    <h3 class="text-3xl font-bold text-gray-800 leading-tight">
      What is your current location?
    </h3>
    <p class="text-gray-700 mt-2 text-lg">Choose your destination</p>
  </div>

  <!-- Toggle buttons with improved design -->
  <div class="mx-auto max-w-md grid grid-cols-2 gap-6 mb-10">
    <button (click)="where.set(true)" [class.bg-white]="where()" [class.shadow-xl]="where()" [class.scale-105]="where()"
      [class.bg-white/60]="!where()"
      class="py-6 rounded-2xl font-bold text-xl transition-all duration-300 border-3 hover:scale-105 hover:shadow-2xl"
      [class.border-[#059669]]="where()" [class.text-[#059669]]="where()" [class.border-white/50]="!where()"
      [class.text-gray-700]="!where()">
      ğŸ« FOE
    </button>
    <button (click)="where.set(false)" [class.bg-white]="!where()" [class.shadow-xl]="!where()"
      [class.scale-105]="!where()" [class.bg-white/60]="where()"
      class="py-6 rounded-2xl font-bold text-xl transition-all duration-300 border-3 hover:scale-105 hover:shadow-2xl"
      [class.border-[#059669]]="!where()" [class.text-[#059669]]="!where()" [class.border-white/50]="where()"
      [class.text-gray-700]="where()">
      ğŸ  Home
    </button>
  </div>

  <!-- Conditional content with improved styling -->
  @if(where()) {
  <div class="bg-white/40 backdrop-blur-sm rounded-2xl p-6 shadow-inner">

    @if(!Procede()){
    <h5 class="text-2xl font-bold text-gray-800 mb-6 text-center">
      Which Transportation do you want?
    </h5>
    <div class="flex flex-wrap justify-center gap-4">
      <button (click)="close('Tram')"
        class="flex-none w-[30%] min-w-[140px] p-5 bg-white/90 border-2 border-white rounded-2xl text-center hover:border-[#059669] hover:shadow-2xl hover:scale-110 hover:bg-white cursor-pointer transition-all duration-300 font-semibold text-base shadow-lg">
        <div class="text-2xl mb-1">ğŸšª</div>
        {{'Tram'}}
      </button>
      <button (click)="close('Bus')"
        class="flex-none w-[30%] min-w-[140px] p-5 bg-white/90 border-2 border-white rounded-2xl text-center hover:border-[#059669] hover:shadow-2xl hover:scale-110 hover:bg-white cursor-pointer transition-all duration-300 font-semibold text-base shadow-lg">
        <div class="text-2xl mb-1">ğŸšª</div>
        {{'Bus'}}
      </button>

    </div>
    }
    @if(Procede()){
    <h5 class="text-2xl font-bold text-gray-800 mb-6 text-center">
      Which gate are you getting off at?
    </h5>
    <div class="flex flex-wrap justify-center gap-4">
      @for (gate of data.gates; track $index) {
      <button (click)="close(gate)"
        class="flex-none w-[30%] min-w-[140px] p-5 bg-white/90 border-2 border-white rounded-2xl text-center hover:border-[#059669] hover:shadow-2xl hover:scale-110 hover:bg-white cursor-pointer transition-all duration-300 font-semibold text-base shadow-lg">
        <div class="text-2xl mb-1">ğŸšª</div>
        {{gate}}
      </button>
      }
    </div>
    }
  </div>

  } @else {
  @if(!Procede()){
  <h5 class="text-2xl font-bold text-gray-800 mb-6 text-center">
    Which Transportation do you want?
  </h5>
  <div class="flex flex-wrap justify-center gap-4">
    <button (click)="close('Tram')"
      class="flex-none w-[30%] min-w-[140px] p-5 bg-white/90 border-2 border-white rounded-2xl text-center hover:border-[#059669] hover:shadow-2xl hover:scale-110 hover:bg-white cursor-pointer transition-all duration-300 font-semibold text-base shadow-lg">
      <div class="text-2xl mb-1">ğŸšª</div>
      {{'Tram'}}
    </button>
    <button (click)="close('Bus')"
      class="flex-none w-[30%] min-w-[140px] p-5 bg-white/90 border-2 border-white rounded-2xl text-center hover:border-[#059669] hover:shadow-2xl hover:scale-110 hover:bg-white cursor-pointer transition-all duration-300 font-semibold text-base shadow-lg">
      <div class="text-2xl mb-1">ğŸšª</div>
      {{'Bus'}}
    </button>

  </div>
  }
  @if(Procede()){
  <div class="bg-white/40 backdrop-blur-sm rounded-2xl p-6 shadow-inner">
    <button (click)="close('select')"
      class="w-full max-w-md mx-auto block p-10 bg-white/90 border-3 border-white rounded-2xl text-center hover:border-[#059669] hover:shadow-2xl hover:scale-105 hover:bg-white cursor-pointer transition-all duration-300 font-bold text-2xl shadow-lg">
      <div class="text-5xl mb-3">ğŸ“</div>
      <div class="text-[#059669]">Select from the map</div>
      <p class="text-sm text-gray-600 mt-2 font-normal">Tap anywhere on the map to set your location</p>
    </button>
  </div>
}
  }

</div>